
认识工具-

1.ONE-FOX集成工具箱 by-微信公众号：狐狸说安全


#知识点: 1、web常规-系统&中间件&数据库&源码等

2、web其他-集成软件& Docker容器&分配站等

3、web拓展-CDN&WAF&OSS&静态&负载均衡等

#章节点 应用架构: web/APP /云应用/三方服务/负载均衡等

安全产品:CDN/WAF/IDS/IPS/蜜罐/防火墙/杀毒等

渗透命令:文件上传下载/端口服务/ shell反弹等

抓包技术:HTTP/TCP/UDP/ICMP/ DNS/封包/代理等

算法加密:数据编码/密码算法/密码保护/反编译/加壳等

# P1Web应用&架构搭建&站库分离&路由访问&配置受限&DNS解析

- 1.知道web应用必备四大件作用
    
    - 系统
        
        云服务（买-阿里云）
        
    - 中间件
        
        在Web开发中，中间件是位于应用程序和服务器之间的软件组件，用于处理网络请求和响应。中间件可以在请求到达应用程序之前对其进行预处理，也可以在应用程序生成响应后对其进行处理，以实现一些通用的功能和特性。常见的Web中间件包括：
        
        1. **Web服务器中间件：** 这些中间件负责处理客户端发出的HTTP请求，并将其传递给后端应用程序。常见的Web服务器中间件包括 Apache、Nginx、Microsoft IIS 等。
        2. **应用服务器中间件：** 这些中间件用于在Web服务器和应用程序之间传递请求，并在应用程序中执行特定的功能。常见的应用服务器中间件包括 uWSGI、Gunicorn、Tomcat、Jetty 等。
        3. **Web框架中间件：** 这些中间件是在Web应用程序中使用的，用于处理请求和生成响应。它们提供了一些常见的功能，如路由、会话管理、身份验证、缓存等。常见的Web框架中间件包括 Django 的中间件、Express.js 的中间件、Flask 的中间件等。
        4. **反向代理中间件：** 这些中间件位于服务器和客户端之间，用于代理客户端的请求并将其转发给后端服务器。它们还可以实现负载均衡、SSL终止、缓存、安全过滤等功能。常见的反向代理中间件包括 Nginx、HAProxy、Apache HTTP Server 等。
        5. **安全中间件：** 这些中间件用于在请求到达应用程序之前或响应发送到客户端之前执行安全检查和过滤。它们可以防止常见的安全威胁，如SQL注入、跨站脚本（XSS）攻击、跨站请求伪造（CSRF）等。常见的安全中间件包括 ModSecurity、Helmet（Node.js 中间件）、Django 的安全中间件等。
        
        这些中间件可以根据具体的需求进行组合和配置，以实现各种复杂的功能和特性。它们为Web开发人员提供了一种灵活和可扩展的方式来构建安全、高效和功能丰富的Web应用程序。
        
    - 数据库
        
        常见的Web数据库：
        
        1. MySQL：MySQL是一个开源的关系型数据库管理系统（RDBMS），广泛用于Web应用程序的数据存储和管理。它具有高性能、可靠性和灵活性的特点，支持大部分主流的操作系统。
        2. PostgreSQL：PostgreSQL是一个功能强大的开源关系型数据库管理系统，具有丰富的特性和高度的可扩展性。它支持复杂的SQL查询和事务处理，适用于各种Web应用程序的数据存储需求。
        3. Microsoft SQL Server：Microsoft SQL Server是微软开发的关系型数据库管理系统，适用于Windows环境下的Web应用程序开发。它具有稳定性高、性能优异和丰富的功能特性。
        4. Oracle Database：Oracle Database是一种商业性的关系型数据库管理系统，被广泛应用于企业级Web应用程序和大型数据处理系统中。它具有强大的性能、安全性和可扩展性。
        5. MongoDB：MongoDB是一种NoSQL数据库，采用文档存储模型，适用于处理大量非结构化数据和实时数据处理。它具有高度的可扩展性、灵活的数据模型和高性能的特点。
        6. Redis：Redis是一种内存数据库，用于缓存、会话存储、消息队列等应用场景。它具有快速的读写速度、丰富的数据类型和灵活的部署方式。
        7. SQLite：SQLite是一种轻量级的关系型数据库管理系统，适用于嵌入式设备和小型Web应用程序。它具有零配置、无服务器和跨平台的特点，适合快速开发和原型验证。
        8. Cassandra：Cassandra是一种分布式NoSQL数据库，适用于大规模数据存储和分布式数据处理。它具有高可扩展性、高可用性和容错性，并支持多数据中心部署。
    - 源码
        
        Web程序源分为:
        
        开源 商业 自写
        
        开源-源码可见
        
        开源-源码不可见 加密 语言特性决定
        
- 2.知道网站有哪些形式展示
    
    Web网站可以以多种形式展示，以下是一些常见的形式：
    
    1. **静态网站：** 静态网站由静态HTML文件组成，没有动态内容或交互功能。它们适用于简单的信息展示和静态内容发布，如企业官方网站、个人博客等。
    2. **动态网站：** 动态网站使用服务器端脚本语言（如PHP、Python、Ruby等）生成动态内容，可以根据用户的请求和交互动态地生成页面内容。动态网站通常具有更丰富的交互功能和个性化内容，如社交网络、电子商务网站等。
    3. **响应式网站：** 响应式网站可以根据访问设备的屏幕大小和分辨率自动调整布局和样式，以适应不同的设备（如桌面电脑、平板电脑、手机等）。这样可以提供更好的用户体验和跨平台访问。
    4. **单页面应用（SPA）：** 单页面应用是一种通过动态加载内容而无需刷新整个页面的Web应用程序。它们通常使用JavaScript框架（如React、Angular、Vue.js等）来管理页面状态和视图更新，提供更流畅的用户体验。
    5. **博客网站：** 博客网站主要用于发布个人或团队的博客文章，内容通常以时间顺序排列，并提供评论和社交分享功能。博客网站可以是静态的或动态的，也可以包含多媒体内容如图片、视频等。
    6. **论坛网站：** 论坛网站用于在线讨论特定主题或话题，用户可以发表帖子、回复他人的帖子、参与讨论等。论坛网站通常包含分区、板块、标签等功能，以便用户方便地浏览和参与讨论。
    7. **电子商务网站：** 电子商务网站用于在线买卖商品和服务，提供购物车、支付、订单跟踪等功能。它们通常具有商品展示页面、商品分类、搜索功能、用户注册登录等特性。
    8. **新闻门户网站：** 新闻门户网站用于发布各种新闻和资讯内容，包括时政新闻、财经资讯、体育新闻、科技资讯等。它们通常具有新闻分类、搜索功能、评论互动等特性。
- 3.知道源码和URL访问对应关系
    
    源码和URL之间的对应关系取决于Web应用程序的结构和设计。一般来说，每个URL对应着一个特定的资源或页面，而源码则是用来生成这些页面的代码。以下是一些常见的情况：
    
    1. **静态网站：** 在静态网站中，每个URL通常对应着一个静态HTML文件。这些HTML文件可以在服务器上的特定目录中找到，对应的源码即是这些HTML文件的内容。例如，URL `https://example.com/about.html` 对应着 `about.html` 文件的源码。
    2. **动态网站：** 在动态网站中，URL通常会由服务器端脚本处理，动态生成页面内容。对于这种情况，URL通常不直接对应着源码文件，而是由服务器端脚本根据请求动态生成页面内容。源码可以在服务器端的特定文件或目录中找到，但它们不直接与URL一一对应。
    3. **单页面应用（SPA）：** 在单页面应用中，通常只有一个HTML文件作为入口，所有的页面内容都是通过JavaScript动态加载和渲染的。这种情况下，所有的URL都指向同一个HTML文件，而具体的页面内容由JavaScript代码根据URL来决定。因此，源码通常包含了所有页面的代码逻辑，而不是单独的HTML文件。
    4. **其他情况：** 在一些特殊情况下，源码和URL之间的对应关系可能会有所不同，具体取决于Web应用程序的架构和设计。例如，一些Web应用程序可能会使用URL路由来将不同的URL映射到不同的源码文件或处理逻辑中。
    
    总的来说，源码和URL之间的对应关系是由Web应用程序的设计和实现决定的，开发人员需要根据具体情况来理解和管理这种对应关系。
    
- 4.知道文件访问解析由什么决定
    
    文件访问解析的方式取决于Web服务器的配置和应用程序的设计。以下是影响文件访问解析的一些因素：
    
    1. **服务器配置：** Web服务器通过配置来确定如何解析和处理请求的文件。常见的服务器配置包括Apache HTTP Server的`.htaccess`文件、Nginx的配置文件等。这些配置可以指定不同类型文件的处理方式，如静态文件直接返回、动态文件交给应用程序处理等。
    2. **文件类型：** 文件的类型影响着服务器如何解析和处理它们。例如，对于HTML、CSS、JavaScript等静态文件，通常直接返回文件内容；对于PHP、Python、Ruby等动态脚本文件，服务器会将请求发送给相应的解释器或处理器。
    3. **URL路径：** URL中的路径部分可以影响服务器对请求的解析方式。一般来说，服务器会根据URL的路径来确定要访问的文件或处理程序。例如，`/index.html`会被解析为访问`index.html`文件，而`/api/data`可能会被解析为调用后端API接口。
    4. **文件位置：** 文件的存放位置也会影响访问解析。服务器需要知道文件的存放位置才能正确地返回文件内容。通常，服务器会根据请求的URL和配置的路径映射规则来确定文件的存放位置。
    5. **请求方法：** 请求的方法（GET、POST、PUT等）也可以影响访问解析。例如，对于静态文件，通常使用GET方法直接返回文件内容；而对于动态脚本文件，可能需要使用POST方法将请求发送给应用程序处理。
    
    综上所述，文件访问解析的方式受到多个因素的影响，包括服务器配置、文件类型、URL路径、文件位置和请求方法等。开发人员需要了解这些因素，并在应用程序设计和服务器配置中合理地处理和解析文件访问请求。
    
- 5.知道数据库存储数据站库分离
    
    数据库存储数据与站库分离是一种常见的架构设计模式，它将应用程序的静态资源和动态数据存储分离到不同的服务器或服务中，以提高系统的性能、可扩展性和可维护性。具体来说，数据库存储数据与站库分离有以下几个优点：
    
    1. **性能优化：** 将数据库和Web服务器分开部署可以提高系统的性能。数据库服务器可以专注于处理数据存取请求，而Web服务器可以专注于处理Web页面和静态资源的请求，从而分担了服务器的负载，提高了系统的响应速度。
    2. **可扩展性：** 通过将数据库存储数据与站库分离，可以更容易地进行水平和垂直扩展。例如，可以根据负载情况独立地增加或减少数据库服务器和Web服务器的数量，以满足系统的需求。
    3. **安全性提高：** 将数据库存储数据与站库分离可以提高系统的安全性。数据库服务器通常可以采取更严格的安全策略，如限制外部访问、加密数据传输等，从而保护数据的安全性。
    4. **灵活性和可维护性：** 通过分离数据库存储数据和站库，可以使系统的不同部分相互独立，从而提高了系统的灵活性和可维护性。例如，可以更容易地进行数据库升级、备份和恢复操作，而不会影响到Web服务器的正常运行。
    5. **负载均衡和故障恢复：** 通过将数据库存储数据与站库分离，可以更容易地实现负载均衡和故障恢复。例如，可以使用数据库复制和分区技术来实现数据的负载均衡和故障容错，从而提高了系统的可用性和稳定性。
    
    综上所述，数据库存储数据与站库分离是一种有效的架构设计模式，可以提高系统的性能、可扩展性、安全性和可维护性，适用于大型Web应用程序和分布式系统的设计和实现。
    
- 6.知道中间件配置影响后续手法
    
    中间件配置对后续网络安全渗透有着重要的影响。中间件是指位于应用程序和操作系统之间的软件，用于简化应用程序开发、部署和管理，例如Web服务器（如Apache、Nginx）、应用服务器（如Tomcat、Jboss）、消息队列（如RabbitMQ、Kafka）等。中间件的配置不当可能会导致安全漏洞，进而影响系统的安全性。以下是中间件配置对网络安全渗透的影响：
    
    1. **安全设置：** 中间件的安全设置对系统的安全性至关重要。例如，Web服务器的访问控制、认证、授权、加密配置等都会直接影响到系统的安全性。如果中间件的安全设置不当，可能会导致恶意攻击者利用漏洞进行未授权访问、信息泄露、拒绝服务攻击等。
    2. **默认配置：** 很多中间件在安装时会使用默认配置，而这些默认配置通常并不是最安全的。攻击者可以利用中间件的默认配置漏洞进行攻击，因此必须对中间件进行定制化配置和安全加固，以增强系统的安全性。
    3. **版本更新：** 中间件的版本更新通常会修复已知的安全漏洞，因此及时更新中间件版本是保持系统安全的重要步骤。如果中间件使用的是过期版本或存在已知漏洞的版本，系统可能会面临被攻击的风险。
    4. **错误配置：** 中间件的错误配置可能会导致系统的安全漏洞，例如配置不当的文件权限、错误的网络配置、不安全的默认密码等。攻击者可以利用这些错误配置进行渗透攻击，因此必须审查和纠正中间件的配置错误。
    5. **监控和日志：** 中间件的监控和日志功能对于及时发现和响应安全事件非常重要。通过配置中间件的监控和日志功能，可以更好地监视系统的运行状况，及时发现异常情况和安全事件，从而加强系统的安全防护能力。
    
    综上所述，中间件配置对网络安全渗透有着直接的影响，必须对中间件进行安全设置、定制化配置、及时更新、错误修复、监控和日志记录等工作，以保障系统的安全性。
    
- 7.知道常规真实web搭建解析流程
    
    常规真实的Web搭建解析流程通常包括以下步骤：
    
    1. **需求分析：** 首先，需要明确网站的需求和功能，包括网站的定位、目标用户、功能模块、页面设计等。根据需求分析，确定网站的整体架构和设计方案。
    2. **技术选型：** 根据需求分析，选择适合的技术栈和开发工具。包括Web服务器、数据库、后端语言（如PHP、Python、Java等）、前端框架（如React、Vue.js、Angular等）等。
    3. **服务器环境搭建：** 搭建Web服务器环境，包括操作系统（如Linux、Windows等）、Web服务器软件（如Apache、Nginx等）、数据库服务器（如MySQL、PostgreSQL等）等。配置服务器环境，确保服务器的安全性和稳定性。
    4. **数据库设计：** 设计数据库结构，包括表的设计、字段的定义、关系的建立等。根据需求设计数据库模型，确保数据库的数据结构满足网站的需求，并保证数据的一致性和完整性。
    5. **后端开发：** 根据需求和数据库设计，进行后端业务逻辑的开发。包括用户认证、数据处理、业务逻辑实现等。根据选择的后端语言和框架，编写后端代码，并与数据库进行交互。
    6. **前端开发：** 根据需求和设计稿，进行前端页面的开发。包括页面布局、样式设计、交互效果实现等。使用HTML、CSS、JavaScript等技术，编写前端代码，并与后端接口进行交互。
    7. **集成测试：** 对整个系统进行集成测试，确保各个模块之间的协调配合和功能正常。包括功能测试、性能测试、安全测试等，发现并解决系统中的问题和漏洞。
    8. **部署上线：** 将开发完成的网站部署到生产环境中，使其能够对外提供服务。包括服务器的配置、域名的解析、数据迁移、备份恢复等工作。确保网站的稳定运行和安全性。
    9. **运维维护：** 对网站进行持续的运维和维护工作，包括系统监控、日志管理、性能优化、安全加固等。及时更新网站内容和功能，保持网站的竞争力和用户体验。
    10. **优化改进：** 根据用户反馈和运行情况，对网站进行持续的优化改进工作。包括性能优化、用户体验改进、功能扩展等，确保网站能够持续发展和提升。
    
    以上是常规真实的Web搭建解析流程，具体的实施过程和步骤可能会根据项目的规模、需求的复杂程度和团队的组织结构而有所不同。
    
- 8.思考为什么要学习掌握这些东西
    
    有更好的定位渗透方向，不会像无头苍蝇
    

## 架构搭建

常规的web应用搭建流程: 1、购买云服务器，购买域名

2、云服务器去搭建中间件

3、下载并上传web程序源码

4、添加网站并绑定域名目录

web应用搭建模式：（不同的搭建模式对应网络安全测试也不同）

1.子域名模式

[www.xiaodi8.com](http://www.xiaodi8.com/) zblog asp程序 [xiaodi.xiaodi8.com](http://xiaodi.xiaodi8.com/) wordpress php程序

[bbs.xiaodi8.com](http://bbs.xiaodi8.com) 论坛dz程序 [oa.xiaodi8.com](http://oa.xiaodi8.com/) OA 通达OA

2.端口模式 [www.xiaodi8.com](http://www.xiaodi8.com/) zblog asp程序 [www.xiaodi8.com:8080](http://www.xiaodi8.com:8080/) wordpress php程序

3.目录模式 [http://www.xiaosedi123.fun/](http://www.xiaosedi123.fun/) zblog asp程序http://www.xiaosedi123.fun/bbs 论坛dz程序

白盒测试（有源码）-代码审计

## 站库分离

原理: 源码数据库不在同服务器 存储: 其他服务器上数据库&云数据库产品

影响: 数据被单独存放，能连接才可影响数据

站库分离对网络渗透的影响主要体现在以下几个方面：

1. **攻击面减小：** 站库分离将网站的前端页面和后端数据库分开部署，使得攻击者在进行渗透攻击时需要攻击两个独立的系统，而不是一次攻击就能获取所有的信息。这样能够有效减小攻击面，增加攻击者的攻击难度。
2. **难以直接获取敏感数据：** 站库分离使得网站的前端页面与后端数据库之间通过接口进行通信，前端页面无法直接访问数据库中的敏感数据。即使攻击者成功入侵了前端系统，也无法直接获取到数据库中的敏感信息，需要进一步攻击后端数据库才能获取。
3. **防范SQL注入攻击：** 站库分离可以有效防范SQL注入攻击。前端页面与后端数据库之间的数据传输通过接口进行，后端系统会对接收到的数据进行严格的参数验证和过滤，避免了直接拼接SQL语句的情况，从而降低了SQL注入攻击的风险。
4. **增加攻击成本：** 站库分离增加了攻击者攻击的成本和难度。攻击者需要花费更多的时间和精力来分析和攻击两个独立的系统，可能需要利用不同的漏洞和攻击手法才能完成渗透攻击，从而增加了攻击的成本和风险。

综上所述，站库分离对网络渗透具有一定的防御作用，能够减小攻击面，增加攻击成本，提高系统的安全性。但同时也需要开发人员和运维人员注意合理配置和管理接口权限、加强后端数据库的安全性，确保站库分离能够发挥其应有的防御效果。

## 路由访问

常规:URL和文件目录对应上

路由访问:mvc源码java python URL和文件目录对应不上 要根据配置路由决定

在Web应用中，路由访问通常指的是根据URL请求的路径（路由）来确定服务器上响应该请求的处理程序或资源。在Web开发中，常见的路由访问方式有两种：

1. **前端路由：** 在前端应用中，通常使用前端路由来处理URL路径。前端路由是指在浏览器中根据URL的路径来切换不同的视图或页面，而无需向服务器发送请求。前端路由通常由前端框架（如React、Vue.js、Angular等）提供支持，可以根据URL的路径加载对应的组件或页面，实现单页应用（SPA）的路由跳转和页面切换。
2. **后端路由：** 在后端应用中，通常使用后端路由来处理URL请求。后端路由是指服务器根据URL的路径来确定响应该请求的处理程序或资源，并返回相应的内容给客户端。后端路由通常由后端框架（如Express.js、Django、Spring Boot等）提供支持，可以根据URL的路径匹配对应的路由规则，调用相应的控制器或处理函数来处理请求，并生成响应内容返回给客户端。

在Web应用中，路由访问起着非常重要的作用，它使得用户可以通过不同的URL路径访问到不同的页面或资源，实现了网站的导航和页面跳转功能。通过合理设计和配置路由，可以提高Web应用的用户体验和可维护性，实现功能模块的灵活组合和页面间的无缝切换。

## 配置受限

![Untitled](https://prod-files-secure.s3.us-west-2.amazonaws.com/38634623-ae1a-4fb0-af2f-2cc040d2c3aa/42369b15-420e-4546-b6d9-feb915ad1ec1/Untitled.png)

受web应用端中的一些配置影响也会影响网络安全渗透（如：插入文件）

## DNS解析

DNS解析在网络安全中起着至关重要的作用，并且与网络安全密切相关。以下是DNS解析对网络安全的影响：

1. **安全性和可用性：** DNS解析的安全性直接影响到网络的可用性和安全性。DNS解析可能受到各种攻击，如DNS劫持、DNS缓存投毒、DNS欺骗等，这些攻击可能导致用户被重定向到恶意网站，造成信息泄露、数据篡改等安全问题，甚至影响整个网络的可用性。
2. **身份验证：** DNS解析也用于进行身份验证，如DNSSEC（DNS Security Extensions）。DNSSEC可以确保DNS查询的完整性和身份验证，防止DNS劫持和DNS欺骗等攻击，提高网络安全性。
3. **恶意域名检测：** DNS解析可用于检测和阻止恶意域名。通过分析DNS查询和响应数据，可以识别并封锁恶意域名，防止恶意软件和恶意网站对用户造成损害。
4. **内容过滤：** DNS解析也可用于进行内容过滤和访问控制。企业和组织可以通过DNS解析来过滤恶意网站、限制对不安全或不适宜内容的访问，保护员工和用户免受网络威胁和不良内容的影响。
5. **数据隐私保护：** DNS解析可能涉及用户的隐私数据，如IP地址和访问记录。因此，保护DNS解析的安全性和隐私性对保护用户的个人数据和隐私至关重要。

# P2Web架构&前后端分离站&Docker容器站&集成软件站&建站分配

## 前后端分离

原理：前端JS框架，API传输数携

影响：
1、前端页面大部分不存在漏洞

2、后端管理大部分不在同域名

3、获得权限有可能不影响后端

## 集成软件站

（集成化环境）（一键式搭建web）

宝塔+Phpstudy 原理:打包类集成化环境，权限配置或受控制

影响:攻击者权限对比区别

拿到权限后

宝塔: 文件管理 锁定目录

命令执行 无法执行

phpstudy 文件管理 没有目录

命令执行 可以执行 whomi 获取用户权-administratorizsjxymy4bzovoz\administrator

自己搭建的iis: iis apppool\defaultapppool

## Docker容器

- 网络安全渗透对Docker容器的影响
    
    主要涉及以下几个方面：
    
    1. **容器逃逸：** 如果攻击者成功渗透了Docker容器，他们可能会尝试通过各种手段从容器内部获取主机上的敏感信息或控制主机。容器逃逸是指攻击者通过利用Docker容器的漏洞或不安全配置，从容器中获得主机操作系统的访问权限，从而对主机进行攻击或控制。
    2. **容器间攻击：** 在多容器环境中，一旦攻击者成功渗透了一个容器，他们可能会尝试利用容器间通信的漏洞或不安全配置来攻击其他容器。例如，通过容器间的网络通信或共享数据卷等方式进行攻击。
    3. **数据泄露：** 如果容器内部存储了敏感数据，例如数据库密码、API密钥等，一旦容器被攻击成功，这些敏感数据可能会被窃取或泄露给攻击者，造成数据泄露和信息安全风险。
    4. **服务中断：** 攻击者可能会利用Docker容器的漏洞或不安全配置来对容器中运行的应用程序进行拒绝服务（DoS）攻击，导致服务不可用或性能下降，从而影响业务运行。
    5. **恶意镜像：** 攻击者可能会上传恶意的Docker镜像到公共或私有的镜像仓库，并通过社会工程学或其他手段诱使用户部署这些恶意镜像，以实施恶意活动，如数据窃取、勒索等。
    
    为降低这些潜在威胁的影响，需要采取一系列安全措施，包括但不限于加强容器和主机的安全配置、定期更新和修补容器镜像、实施容器间隔离和网络隔离、监控和审计容器活动等。此外，定期进行渗透测试和漏洞扫描，及时发现和修复容器中的安全漏洞也是保障Docker容器安全的重要措施。
    

vulhub安装-W3Cschool教程

容器原理:虚拟化技术独立磁盘空间，非真实物理环境

影响:攻击者进入虚拟空间磁盘

## 建站分配

1.托管

2.申请 原理：利用别人域名模版建立

影响：实质安全测试非目标资产

# P3Web架构&OSS存储&负载均衡&CDN加速&反向代理&WAF防护

## OSS存储

原理:云存储服务，旨在提高访问速度

演示: https : / / [cloudreve.org/](http://cloudreve.org/) windows2012 + cloudreve +阿里云oss https:/ / [github.com/cloudreve/Cloudreve/releases](http://github.com/cloudreve/Cloudreve/releases) /tag/ 3.7.1

1、启动应用 2、登录管理

3、配置存储信息 4、更改用户组存储属性

原理: 为什么要使用第三方存储?

1）静态文件会占用大量带宽

2）加载速度 3）存储空间

影响: 上传的文件或解析的文件均来自于oss资源，无法解析，单独存储

1、修复上传安全 2、文件解析不一样

3、但Accesskey隐患

![[Pasted image 20240403190035.png]]
## 负载均衡

原理:分摊到多个操作单元上进行执行，共同完成工作任务

影响:有多个服务器加载服务，测试过程中存在多个目标情况演示:Nginx负载均衡配置 windows2012 +BT宝塔面板+ Nginx

#定义负载设置 upstream fzjh {
server 47.94.236.117:80 weight=2; 
server 47.122.22.195:80 weight=1; 
}

#定义访问路径访问策略

location / { 
proxy_pass http: /lfzjh/ ; 
}





## CDN加速

原理:内容分发服务，旨在提高访问速度

影响:隐藏真实源IP，导致对目标测试错误

演示:阿里云备案域名全局CDN加速服务

windows2012 +BT宝塔面板+ CDN服务

![[Pasted image 20240403190120.png]]

## 反向代理

正向代理为客户端服务，客户端主动建立代理访问目标（不代理不可达)

反向代理为服务端服务,服务端主动转发数据给可访问地址（不主动不可达)

原理:通过网络反向代理转发真实服务达到访问目的 影响:访问目标只是一个代理，非真实应用服务器 注意:正向代理和反向代理都是解决访问不可达的问题，但由于反向代理中多出一个可以重定向解析的功能操作，导致反代理出的站点指向和真实应用毫无关系系!  
演示:Nginx反向代理配置 windows2012 ＋BT宝塔面板+Nginx

![[Pasted image 20240403190144.png]]
## WAF防护

原理: web应用防火墙，旨在提供保护

影响:常规web安全测试手段会受到拦截

演示:免费D盾防护软件 windows2012 + IIS +D盾
![[Pasted image 20240403190208.png]]
![[Pasted image 20240403190223.png]]
# P4 APP架构&小程序&H5+Vue语言&Web封装&原生开发&Flutter


## APP架构

#APP应用开发架构:

1、原生开发 安卓一般使用java语言开发，当然现在也有kotlfn语言进行开发。如何开发就涉及到具体编程了，这里就不详说了。简单描述就是使用安卓提供的一系列控件来实现页面，复杂点的页面可以通过自定义控件来实现。 2、使用H5语言开发 使用H5开发的好处有很多，可多端复用，比如浏览器端，ios端，当然H5开发的体验是没有原生好的。结合我做过的项目来说，一般是这个页面需要分享出去的话, 就用H5开发。 3、使用flutter开发 flutter是近年来谷歌推出的一款UI框架，使用dart语言进行开发，支持跨平台，weight渲染直接操作硬件层，体验可媲美原生。但是flutter技术比较新，生态还不完善，开发起来效率相对偏低。

4、常规web开发 web App软件开发简单地说，就是开发一个网站，然后加入app的壳。Web App一般非常小，内容都是app内的网页展示，受制于网页技术本身，可实现功能少，而且每次打开，几乎所有的内容都需要重新加载，所以反应速度慢，内容加载过多就容易卡死，用户体验差，而且app内的交互设计等非常有效。但开发周期长端，需要的技术人员少，成本低

#APP-开发架构-原生态-工DEA

演示: remusic项目源码 安全影响:反编译&抓包&常规测试

安全影响:逆向的角度去分析逻辑设计安全

#APP-开发架构-―web封装-封装平台

演示: shopXo源码程序+一门APP打包

安全影响:常规web安全测试

#APP-开发架构-H5&Vue-HBuilderX

演示:HBuilderX案例 安全影响:API&JS框架安全问题&JS前段测试

## 小程序

#WX小程序-开发架构-web封装-平台

演示:ShopXo源码程序+一门APP打包

安全影响:常规web安全测试

#WX小程序-开发架构-H5&Vue-HBuilderx

演示:HBuilderx案例 安全影响:API&JS框架安全问题

# P5 反弹SHELL&不回显带外&正反向连接&防火墙出入站&文件下载

   ## 1、渗透命令-常规命令&文件上传下载
   
   
   ## 2、反弹Shell-防火墙策略&正反向连接
   
   
   ## 3、数据回显-查询带外&网络协议层级


